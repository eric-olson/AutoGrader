#include <gtest/gtest.h>
#include <vector>
#include <string>
#include "assoc.h"

using namespace std;

#include "solution.cpp"

class CSCITest : public ::testing::TestWithParam<association<vector<string>,int>> {};

TEST_P(CSCITest, sum) {
	auto in = GetParam().key;
	auto out = GetParam().value;
	EXPECT_EQ(out, num_routes(in));
}	


association<vector<string>,int> testvals[] = {
{{"R..X", "....", "X..C"}, 8},
{{"C........R"}, 1},
{{"C", ".", ".", ".", ".", ".", ".", "X", ".", "R"}, 0},
{{"RX", "XC"}, 0},
{{"X.X....XX", "...XX..XX", "R...X..X.", "C.....X..", "..XX...X.", ".......X.", ".....XX.X"}, 1},
{{"R", ".", ".", "X", "X", "X", "X", "X", ".", "C"}, 0},
{{"RC"}, 1},
{{"R..", "..X", "..C", "...", "..."}, 3},
{{"RC.XX"}, 1},
{{"....X", "...XX", "....X", ".X...", ".....", "XR..X", "X....", "..X.C", "....X", "....."}, 6},
{{".CX....", "..R.X.."}, 1},
{{"..", "RX", "XC", ".."}, 0},
{{".....X.XX", ".XXX..XX.", ".........", ".X..XX.X.", "CR...X.XX"}, 1},
{{"X.X.X.", "..X...", "....R.", "..X..C", ".X....", ".XX...", "X.X..."}, 2},
{{".X..", "C.XX", ".R.X"}, 2},
{{".....X.", "X.CX.X.", ".XXXX..", "..XXX..", ".....XX", "R.X.XX."}, 0},
{{".X", ".X", "..", "..", ".X", "C.", ".R", "XX"}, 2},
{{"X..X.X.", "XX.C.X.", ".......", "..X.X..", ".......", "R.XX..."}, 10},
{{".X.....X", "XX..R.X.", ".....X..", "...X....", "X..XX...", "C.......", "X......X"}, 12},
{{".CR.."}, 1},
{{".", "C", "R", ".", ".", "X"}, 1},
{{"...XX...", "....X...", ".XR.....", "X.......", "....XX..", "....X..X", "..XC.XX."}, 4},
{{".XX...", "XX....", "X..RX.", "...X..", ".XXC..", "...X.."}, 0},
{{".........C", "..........", "..........", "..........", "..........", "..........", "..........", "..........", "..........", "R........."}, 48620},
{{".R...", "..X..", "....X", "X.X.X", "...C."}, 3},
{{"R.....", "...X.C"}, 2},
{{".........C", "..........", "..........", "..........", "..........", "....X.....", "..........", "..........", "..........", "R........."}, 30980},
{{"RXX", "...", "XXC"}, 1},
{{"R..", "..X", ".XC"}, 0},
{{".....", ".....", "...XC", "R....", "XXX.."}, 1},
{{"C..X.", ".....", "X..R.", "....."}, 8},
{{"R.....", "......", "......", "......", ".....C"}, 126},
{{".......R", ".....X..", "......X.", "..C..XX.", "........"}, 10},
{{".R...", "..X..", "....X", "X.X.X", "...C."}, 3},
{{"R.....", ".....C"}, 6},
{{"..........", ".C........", "....X...X.", "..........", "........X.", ".....X.X.X", ".........R"}, 84},
{{"......XR", "...XX...", "........", "...C...X"}, 11}
};
	
INSTANTIATE_TEST_CASE_P(inputs, CSCITest, ::testing::ValuesIn(testvals));

